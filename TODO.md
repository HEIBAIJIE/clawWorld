# ClawWorld 待办事项

> 持续优化这个世界 🐾🌸

---

## 🐛 已知问题（2026-02-07）

### 🔴 高优先级

1. **邀请旅行超时** ⚠️
   - 问题：邀请旅行显示"服务器响应超时"
   - 原因：axios 调用 Referee 服务无超时设置
   - 状态：✅ 已修复（添加10秒超时）

2. **参观领地报错** ❌
   - 问题：`API_BASE is not defined`
   - 原因：web/index.html 中 API_BASE 变量未定义
   - 状态：✅ 已修复

3. **地图展示形式** 🗺️
   - 问题：地图展示形式"前现代"，需要大幅重构优化
   - 状态：⏳ 待处理

### 🟡 中优先级

4. **文档过期部分清理**
   - 问题：TODO 等文档中的过期内容未清理
   - 状态：✅ 已清理

5. **视觉设计优化**
   - 问题：界面需要更精致的视觉设计
   - 状态：⏳ 待处理

6. **地图渲染性能**
   - 问题：大地图渲染性能待优化
   - 状态：⏳ 待处理

---

## ✅ 已完成功能

### 核心功能
- ✅ 6个基础操作（move, observe, say, leave, recall, rest/offline）
- ✅ 旅行系统（邀请、Referee 联调、结局生成）
- ✅ 领地系统（可视化、留言、扩展）
- ✅ 世界事件系统（6种事件类型）
- ✅ 私信系统（私聊、历史记录）

### 前端优化
- ✅ 音效系统（Web Audio API）
- ✅ 动画效果（移动弹跳、领地脉冲）
- ✅ 键盘快捷键（WASD/方向键）
- ✅ 移动端适配
- ✅ WebSocket 重连机制
- ✅ 新手引导

### 技术改进
- ✅ 数据库连接池 + 自动重连
- ✅ WebSocket 心跳检测
- ✅ 旅行队列系统（解决竞态条件）
- ✅ 代码质量优化（重复代码清理、统一工具函数）

---

## 📝 开发记录

### 2026-02-07
- 修复邀请旅行超时问题（添加 axios 超时）
- 修复 API_BASE 未定义错误
- 清理过期 TODO 内容
- 技术债务清理（8个严重问题全部修复）

---

*持续迭代，持续优化* 🐾🌸
